{"ast":null,"code":"import Footer from\"./Footer\";import{Outlet}from\"react-router-dom\";import Header from\"./Header\";import axios from\"axios\";import React,{useContext,useEffect,useState}from\"react\";import ProtectedRoute from\"./ProtectedRoute\";import{UserId}from\"../App\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Root(){const{user}=useContext(UserId);const[dataStudents,setStudents]=useState([]);const[className,setClassName]=useState('');const[isLoading,setIsLoading]=useState(true);async function fetchClassInfoByTeacher(teacherId){try{const response=await axios.get(`/get_info_mentor/${teacherId}`);const{className,students}=response.data;setClassName(className);setStudents(students);}catch(error){// Обрабатываем ошибки\nconsole.error('Ошибка при получении данных:',error.response?error.response.data:error.message);}finally{setIsLoading(false);}}useEffect(()=>{fetchClassInfoByTeacher(user.id);},[user.id]);return/*#__PURE__*/_jsxs(\"div\",{className:\"Main\",children:[/*#__PURE__*/_jsx(Header,{nameApp:'Классный помощник'}),!isLoading&&/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Outlet,{context:[className,dataStudents,isLoading]})}),isLoading&&/*#__PURE__*/_jsx(\"div\",{children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"}),/*#__PURE__*/_jsx(Footer,{})]});}export default Root;","map":{"version":3,"names":["Footer","Outlet","Header","axios","React","useContext","useEffect","useState","ProtectedRoute","UserId","jsx","_jsx","jsxs","_jsxs","Root","user","dataStudents","setStudents","className","setClassName","isLoading","setIsLoading","fetchClassInfoByTeacher","teacherId","response","get","students","data","error","console","message","id","children","nameApp","context"],"sources":["C:/Users/kir/WebstormProjects/childout/src/components/Root.js"],"sourcesContent":["import Footer from \"./Footer\";\r\nimport {Outlet} from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\nimport axios from \"axios\";\r\nimport React, {useContext, useEffect, useState} from \"react\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport {UserId} from \"../App\";\r\n\r\nfunction Root() {\r\n    const { user } = useContext(UserId);\r\n    const [dataStudents, setStudents] = useState([]);\r\n    const [className, setClassName] = useState('');\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    async function fetchClassInfoByTeacher(teacherId) {\r\n        try {\r\n            const response = await axios.get(`/get_info_mentor/${teacherId}`);\r\n            const { className, students } = response.data;\r\n            setClassName(className);\r\n            setStudents(students);\r\n        } catch (error) {\r\n            // Обрабатываем ошибки\r\n            console.error('Ошибка при получении данных:', error.response ? error.response.data : error.message);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchClassInfoByTeacher(user.id);\r\n    }, [user.id]);\r\n\r\n    return (\r\n        <div className=\"Main\">\r\n            <Header nameApp={'Классный помощник'} />\r\n\r\n            {!isLoading && (\r\n                <ProtectedRoute>\r\n                    <Outlet context={[className, dataStudents, isLoading]} />\r\n                </ProtectedRoute>\r\n            )}\r\n            {isLoading && <div>Загрузка...</div>}\r\n            <Footer />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Root;"],"mappings":"AAAA,MAAO,CAAAA,MAAM,KAAM,UAAU,CAC7B,OAAQC,MAAM,KAAO,kBAAkB,CACvC,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAGC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAC5D,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,OAAQC,MAAM,KAAO,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9B,QAAS,CAAAC,IAAIA,CAAA,CAAG,CACZ,KAAM,CAAEC,IAAK,CAAC,CAAGV,UAAU,CAACI,MAAM,CAAC,CACnC,KAAM,CAACO,YAAY,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACW,SAAS,CAAEC,YAAY,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACa,SAAS,CAAEC,YAAY,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAEhD,cAAe,CAAAe,uBAAuBA,CAACC,SAAS,CAAE,CAC9C,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAArB,KAAK,CAACsB,GAAG,CAAC,oBAAoBF,SAAS,EAAE,CAAC,CACjE,KAAM,CAAEL,SAAS,CAAEQ,QAAS,CAAC,CAAGF,QAAQ,CAACG,IAAI,CAC7CR,YAAY,CAACD,SAAS,CAAC,CACvBD,WAAW,CAACS,QAAQ,CAAC,CACzB,CAAE,MAAOE,KAAK,CAAE,CACZ;AACAC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAACJ,QAAQ,CAAGI,KAAK,CAACJ,QAAQ,CAACG,IAAI,CAAGC,KAAK,CAACE,OAAO,CAAC,CACvG,CAAC,OAAS,CACNT,YAAY,CAAC,KAAK,CAAC,CACvB,CACJ,CAEAf,SAAS,CAAC,IAAM,CACZgB,uBAAuB,CAACP,IAAI,CAACgB,EAAE,CAAC,CACpC,CAAC,CAAE,CAAChB,IAAI,CAACgB,EAAE,CAAC,CAAC,CAEb,mBACIlB,KAAA,QAAKK,SAAS,CAAC,MAAM,CAAAc,QAAA,eACjBrB,IAAA,CAACT,MAAM,EAAC+B,OAAO,CAAE,mBAAoB,CAAE,CAAC,CAEvC,CAACb,SAAS,eACPT,IAAA,CAACH,cAAc,EAAAwB,QAAA,cACXrB,IAAA,CAACV,MAAM,EAACiC,OAAO,CAAE,CAAChB,SAAS,CAAEF,YAAY,CAAEI,SAAS,CAAE,CAAE,CAAC,CAC7C,CACnB,CACAA,SAAS,eAAIT,IAAA,QAAAqB,QAAA,CAAK,qDAAW,CAAK,CAAC,cACpCrB,IAAA,CAACX,MAAM,GAAE,CAAC,EACT,CAAC,CAEd,CAEA,cAAe,CAAAc,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
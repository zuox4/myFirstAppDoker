{"ast":null,"code":"// src/pages/Registration.js\nimport React,{useState}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import logo1298 from\"../assets/logo1298.svg\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Registration(){const[email,setEmail]=useState(\"\");const navigate=useNavigate();const[dataRegister,setRegister]=useState(\"\");const[loading,setLoading]=useState(false);async function registerUser(email){setLoading(true);try{const response=await axios.post('/register',{email:email});console.log('Успешная регистрация:',response.data);return response.data;// Возвращаем ответ для дальнейшей обработки\n}catch(error){if(error.response){console.error('Ошибка регистрации:',error.response.data.message);}else if(error.request){console.error('Ошибка: ответ от сервера не получен',error.request);}else{console.error('Ошибка:',error.message);}throw error;// Можно выбросить ошибку дальше для обработки в родительском компоненте\n}}const handleRegister=async e=>{e.preventDefault();setRegister('');try{const result=await registerUser(email);setRegister(`Пароль отправлен на электронную почту ${email}`);setEmail('');setLoading(false);console.log(result);// Успешная регистрация\n}catch(error){setRegister('Ошибка регистрации. Проверьте правильность введеных данных или обратитесь к администратору');console.error('Не удалось зарегистрироваться',error);setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",style:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"img\",{src:logo1298,className:\"logo\",alt:\"logo\",style:{width:'200px'}}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\u041A\\u043B\\u0430\\u0441\\u0441\\u043D\\u044B\\u0439 \\u043F\\u043E\\u043C\\u043E\\u0449\\u043D\\u0438\\u043A \",/*#__PURE__*/_jsx(\"br\",{}),\"\\u0428\\u043A\\u043E\\u043B\\u0430 \\u21161298\"]}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"}),loading?/*#__PURE__*/_jsxs(\"div\",{className:\"spinner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"double-bounce1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"double-bounce2\"})]}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRegister,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"E-mail:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true,style:{width:'300px'}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"button-group\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{width:'max-content',marginBottom:'20px'},children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"})}),/*#__PURE__*/_jsx(\"span\",{onClick:()=>navigate('/'),style:{textAlign:'center',color:'white',marginTop:'20px',textDecoration:'underline'},children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]}),/*#__PURE__*/_jsx(\"span\",{style:{color:dataRegister==='Не удалось зарегистрироваться'?'red':'white',marginTop:'20px'},children:dataRegister})]});}export default Registration;","map":{"version":3,"names":["React","useState","axios","useNavigate","logo1298","jsx","_jsx","jsxs","_jsxs","Registration","email","setEmail","navigate","dataRegister","setRegister","loading","setLoading","registerUser","response","post","console","log","data","error","message","request","handleRegister","e","preventDefault","result","className","style","display","flexDirection","alignItems","children","src","alt","width","onSubmit","htmlFor","type","id","value","onChange","target","required","marginBottom","onClick","textAlign","color","marginTop","textDecoration"],"sources":["C:/Users/kir/WebstormProjects/childout/src/pages/Registration.js"],"sourcesContent":["// src/pages/Registration.js\r\nimport React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport logo1298 from \"../assets/logo1298.svg\";\r\n\r\nfunction Registration() {\r\n    const [email, setEmail] = useState(\"\");\r\n    const navigate = useNavigate();\r\n    const [dataRegister, setRegister] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    async function registerUser(email) {\r\n        setLoading(true)\r\n        try {\r\n            const response = await axios.post('/register', {\r\n                email:email\r\n            });\r\n            console.log('Успешная регистрация:', response.data);\r\n            return response.data; // Возвращаем ответ для дальнейшей обработки\r\n        } catch (error) {\r\n            if (error.response) {\r\n                console.error('Ошибка регистрации:', error.response.data.message);\r\n            } else if (error.request) {\r\n                console.error('Ошибка: ответ от сервера не получен', error.request);\r\n            } else {\r\n                console.error('Ошибка:', error.message);\r\n            }\r\n            throw error; // Можно выбросить ошибку дальше для обработки в родительском компоненте\r\n        }\r\n\r\n    }\r\n\r\n    const handleRegister = async (e) => {\r\n        e.preventDefault();\r\n        setRegister('')\r\n        try {\r\n            const result = await registerUser(email);\r\n            setRegister(`Пароль отправлен на электронную почту ${email}`)\r\n            setEmail('')\r\n            setLoading(false)\r\n            console.log(result); // Успешная регистрация\r\n        } catch (error) {\r\n            setRegister('Ошибка регистрации. Проверьте правильность введеных данных или обратитесь к администратору')\r\n            console.error('Не удалось зарегистрироваться', error);\r\n            setLoading(false)\r\n        }\r\n\r\n    };\r\n\r\n    return (\r\n        <div className=\"login-container\" style={{display: \"flex\", flexDirection: \"column\", alignItems: \"center\"}}>\r\n            <img src={logo1298} className=\"logo\" alt=\"logo\" style={{width: '200px'}}/>\r\n            <h2>Классный помощник <br/>Школа №1298</h2>\r\n            <h3>Регистрация</h3>\r\n            {loading?<div className=\"spinner\">\r\n                <div className=\"double-bounce1\"></div>\r\n                <div className=\"double-bounce2\"></div>\r\n            </div>:\r\n                <form onSubmit={handleRegister}>\r\n            <div className=\"input-group\">\r\n                <label htmlFor=\"email\">E-mail:</label>\r\n                <input\r\n                    type=\"email\"\r\n                    id=\"email\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    required\r\n                    style={{width: '300px'}}\r\n                />\r\n\r\n            </div>\r\n            <div className=\"button-group\">\r\n                <button type=\"submit\" style={{width: 'max-content', marginBottom: '20px'}}>Зарегистрироваться\r\n                </button>\r\n\r\n            </div>\r\n            <span onClick={() => navigate('/')} style={{\r\n                textAlign: 'center',\r\n                color: 'white',\r\n                marginTop: '20px',\r\n                textDecoration: 'underline'\r\n            }}>Войти</span>\r\n\r\n        </form>\r\n}\r\n    <span style={{\r\n        color: (dataRegister === 'Не удалось зарегистрироваться') ? 'red' : 'white',\r\n        marginTop: '20px'\r\n    }}>{dataRegister}</span>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Registration;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}